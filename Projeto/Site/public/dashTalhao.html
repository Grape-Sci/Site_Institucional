<!DOCTYPE html>
<html lang="ptbr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Talhão</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="shortcut icon" type="imagex/png" href="img/icon.png">
    <link rel="stylesheet" href="css/dashTalhao.css" />
</head>

<body onload="exibirUsuario(), capturarKPITalhao()">
    <div class="pagina">
        <div class="navBar">
            <div class="logo">
                <div class="container">
                    <img src="img/logo.png" alt="" />
                </div>
            </div>
            <hr>
            <div class="pags">
                <div class="container" id="listaNavBar">
                    <span><a href="dashHome.html">Home</a></span>
                    <span><a href="dashPlantacao.html">Plantação</a></span>
                    <span><a id="agora" href="dashTalhao.html">Talhões</a></span>
                    <span><a href="helpDesk.html">Ajuda</a></span>

                </div>
            </div>
            <div class="profile">
                <div class="container">
                    <div class="imagem">
                        <img src="img/fazendeiro.png" alt="">
                    </div>
                    <span id="nomeUsuario">Usuário</span>
                    <button onclick="sair()">Sair</button>
                </div>
            </div>
        </div>

        <div id="talhao" class="talhao">
            <div class="titulo">
                <div class="container">
                    <h1>Talhão 1</h1>
                </div>
            </div>
            <div class="containerPagina">
                <div class="containerCima">
                    <div class="caixa">
                        <div class="tipoUva">
                            <span id="tipoUvaTalhao"></span>
                        </div>
                    </div>
                    <div class="caixa">
                        <div class="tituloKPI">
                            <span>Previsão de Colheita</span>
                        </div>
                        <div class="previsaoColheita">
                            <span class="Seguro" id="dias"></span>
                            <img src="img/prevUva.png">
                        </div>
                    </div>
                    <div class="caixa">
                        <div class="tituloKPI">
                            <span>Situação</span>
                        </div>
                        <div class="situacao">
                            <span class="Seguro" id="situacaoTalhao"></span>
                            <img id="imagemSituacao" alt="">
                        </div>
                    </div>
                </div>
                <div class="containerBaixo">
                    <div class="caixaGraficos">
                        <div class="container">
                            <canvas id="myChart" width="100%" height="30px"></canvas>
                        </div>
                        <div class="container">
                            <canvas id="myChart2" width="100%" height="30px"></canvas>
                        </div>
                    </div>
                    <div class="caixaKPI">
                        <div class="conteudoCaixa">
                            <div class="tituloKPI">
                                <span>Métricas</span>
                            </div>
                            <div class="metricas">
                                <div class="temperaturaMetrica">
                                    <div class="tituloMetrica">
                                        <span>Temperatura Ideal:</span>
                                    </div>
                                    <div class="metricasTemperatura">
                                        <span id="metricasTalhaoTemp"></span>
                                    </div>
                                </div>
                                <div class="umidadeMetrica">
                                    <div class="tituloMetrica">
                                        <span>Umidade Ideal:</span>
                                    </div>
                                    <div class="metricasUmidade">
                                        <span id="metricasTalhaoUmi">Entre 50% e 60%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="conteudoCaixa">

                            <div class="explicacao">
                                <span>TEMPERATURA</span>
                            </div>
                            <div class="explicacaomeio">
                                <div class="div">
                                    <div class="perigoesqcima">
                                        <span id="tempMinPerigoTalhao"></span>
                                    </div>
                                    <div class="meio corperigo">
                                        <span>PERIGO</span>
                                    </div>
                                    <div class="perigoesqbaixo">
                                        <span id="umiMinPerigoTalhao"></span>
                                    </div>
                                </div>
                                <div class="div">
                                    <div class="divalerta">
                                        <span id="tempMinAlertaTalhao"></span>
                                    </div>
                                    <div class="meioalerta coralerta">
                                        <span>ALERTA</span>
                                    </div>
                                    <div class="divalerta">
                                        <span id="umiMinAlertaTalhao"></span>
                                    </div>
                                </div>
                                <div class="div">
                                    <div class="divseguro">
                                        <span id="tempSeguroTalhao"></span>
                                    </div>
                                    <div class="meio corseguro">
                                        <span>SEGURO</span>
                                    </div>
                                    <div class="divseguro">
                                        <span id="umiSeguroTalhao"></span>
                                    </div>
                                </div>
                                <div class="div">
                                    <div class="divalerta">
                                        <span id="tempMaxAlertaTalhao"></span>
                                    </div>
                                    <div class="meioalerta coralerta">
                                        <span>ALERTA</span>
                                    </div>
                                    <div class="divalerta">
                                        <span id="umiMaxAlertaTalhao"></span>
                                    </div>
                                </div>
                                <div class="div">
                                    <div class="perigodircima">
                                        <span id="tempMaxPerigoTalhao"></span>
                                    </div>
                                    <div class="meio corperigo">
                                        <span>PERIGO</span>
                                    </div>
                                    <div class="perigodirbaixo">
                                        <span id="umiMaxPerigoTalhao"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="explicacao">
                                <span>UMIDADE</span>
                            </div>
                        </div>
                        <div class="conteudoCaixa">
                            <div class="tituloKPI">
                                <span>Últimas 24 horas</span>
                            </div>
                            <div class="ultimasHoras">
                                <div class="temperaturaDias">
                                    <p>Temperatura:</p>
                                    <div class="caixaBranca">
                                        <span id="minimaTemp24hrs"></span>
                                    </div>
                                    <div class="caixaBranca">
                                        <span id="maximaTemp24hrs"></span>
                                    </div>
                                </div>
                                <div class="umidadeDias">
                                    <p>Umidade:</p>
                                    <div class="caixaBranca">
                                        <span id="minimaUmi24hrs"></span>
                                    </div>
                                    <div class="caixaBranca">
                                        <span id="maximaUmi24hrs"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</body>

</html>
<script  src="js/dash.js"></script>
<script src="js/dashTalhao.js"></script>

<script>
    const labels = [
        '12:00',
        '12:01',
        '12:02',
        '12:03',
        '12:04',
        '12:05',
    ];

    const labels2 = [
        '12:00',
        '12:01',
        '12:02',
        '12:03',
        '12:04',
        '12:05',
    ];

    // Definindo os dados para o gráfico de temperatura em tempo real
    const data = {
        labels: labels,
        datasets: [{
            label: 'Temperatura em tempo real',
            backgroundColor: '#FF2D00',
            borderColor: '#FF2D00',
            data: [24, 23, 22, 22, 21, 22], // Dados de temperatura
        }]
    };

    // Definindo os dados para o gráfico de umidade em tempo real
    const data2 = {
        labels: labels2,
        datasets: [{
            label: 'Umidade em tempo real',
            backgroundColor: '#009BFF',
            borderColor: '#009BFF',
            data: [55, 53, 58, 57, 54, 56], // Dados de umidade
        }]
    };

    // Configurações para o gráfico de temperatura em tempo real
    const config = {
        type: 'line',
        data: data,
        options: {
            plugins: {
                legend: {
                    labels: {
                        color: 'black' // Cor das labels da legenda
                    }
                }
            },
            scales: {
                x: {
                    ticks: {
                        color: 'black' // Cor das labels do eixo X
                    }
                },
                y: {
                    ticks: {
                        color: 'black' // Cor das labels do eixo Y
                    }
                }
            }
        }
    };

    // Configurações para o gráfico de umidade em tempo real
    const config2 = {
        type: 'line',
        data: data2,
        options: {
            plugins: {
                legend: {
                    labels: {
                        color: 'black' // Cor das labels da legenda
                    }
                }
            },
            scales: {
                x: {
                    ticks: {
                        color: 'black' // Cor das labels do eixo X
                    }
                },
                y: {
                    ticks: {
                        color: 'black' // Cor das labels do eixo Y
                    }
                }
            }
        }
    };

    // Criando a instância do gráfico de temperatura em tempo real
    const myChart = new Chart(
        document.getElementById('myChart').getContext('2d'), // ID do elemento HTML onde o gráfico será renderizado
        config // Configurações do gráfico
    );

    // Criando a instância do gráfico de umidade em tempo real
    const myChart2 = new Chart(
        document.getElementById('myChart2').getContext('2d'), // ID do elemento HTML onde o gráfico será renderizado
        config2 // Configurações do gráfico
    );

    // Configurando o fundo branco para o canvas
    document.getElementById('myChart').style.backgroundColor = 'white';
    document.getElementById('myChart2').style.backgroundColor = 'white';

</script>